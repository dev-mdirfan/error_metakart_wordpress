!function(){"use strict";var e={n:function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,{a:n}),n},d:function(t,n){for(var a in n)e.o(n,a)&&!e.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:n[a]})},o:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}},t=window.wp.apiFetch,n=e.n(t);function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var r=!!EssentialBlocksLocalize&&EssentialBlocksLocalize.rest_rootURL;if(n().use(n().createRootURLMiddleware(r)),document.getElementsByClassName("ebpg-pagination").length>0){var i=document.querySelectorAll(".ebpg-pagination button");i.length>0&&(document.querySelectorAll(".ebpg-pagination").forEach((function(e){s(e)})),i.forEach((function(e){var t=1;e.addEventListener("click",(function(){var e=this,a=o(this,"ebpg-pagination-button"),r=o(this,"ebpg-pagination-item-previous"),i=o(this,"ebpg-pagination-item-next");t=a?parseInt(t)+1:r?parseInt(c(this))-1:i?parseInt(c(this))+1:parseInt(this.dataset.pagenumber);var l=this.closest(".eb-post-grid-wrapper").dataset;n()({path:"eb-post-grid/v1/queries?query_data=".concat(l.querydata,"&attributes=").concat(l.attributes,"&pageNumber=").concat(t)}).then((function(t){a?t?e.closest(".ebpg-pagination").insertAdjacentHTML("beforebegin",t):(e.closest(".ebpg-pagination").insertAdjacentHTML("beforebegin",'<p class="eb-no-posts">No more Posts</p>'),e.closest(".ebpg-pagination").remove()):(e.closest(".eb-post-grid-wrapper").querySelectorAll(".ebpg-grid-post").forEach((function(e){e.remove()})),e.closest(".ebpg-pagination").insertAdjacentHTML("beforebegin",t),o(e,"ebpg-pagination-item")&&(e.closest(".ebpg-pagination").querySelectorAll(".ebpg-pagination-item").forEach((function(e){e.classList.remove("active")})),e.classList.add("active")),s(e.closest(".ebpg-pagination")))}))}))})))}function o(e,t){return new RegExp("(\\s|^)"+t+"(\\s|$)").test(e.className)}function s(e){var t=e.querySelector(".ebpg-pagination-item.active");if(t){var n=parseInt(t.dataset.pagenumber),a=e.querySelectorAll(".ebpg-pagination-item"),r=a.length,i=1;a.forEach((function(e){i=parseInt(e.dataset.pagenumber),function(e){e.classList.remove("show"),e.classList.add("hide")}(e),(1===n&&i<=3||i>=n&&i<=n+2||i===r||1===i&&(n>=r-2||n>=4))&&function(e){e.classList.remove("hide"),e.classList.add("show")}(e)}));var o=e.querySelectorAll(".ebpg-pagination-item-separator");o.length>0&&o.forEach((function(e){e.remove()}));var s='<button class="ebpg-pagination-item-separator">...</button>';n<a.length-2&&a[a.length-1].insertAdjacentHTML("beforebegin",s),(n>=r-2||r>4&&n>=4)&&a[1].insertAdjacentHTML("afterend",s),1===n?(e.querySelector(".ebpg-pagination-item-previous").disabled=!0,e.querySelector(".ebpg-pagination-item-next").disabled=!1):n===r?(e.querySelector(".ebpg-pagination-item-previous").disabled=!1,e.querySelector(".ebpg-pagination-item-next").disabled=!0):(e.querySelector(".ebpg-pagination-item-previous").disabled=!1,e.querySelector(".ebpg-pagination-item-next").disabled=!1)}}function c(e){var t=1,n=e.closest(".ebpg-pagination").querySelector(".ebpg-pagination-item.active");return n&&(t=n.dataset?n.dataset.pagenumber:1,o(e,"ebpg-pagination-item-next")?(n.nextSibling.classList.add("active"),n.classList.remove("active")):o(e,"ebpg-pagination-item-previous")&&(n.previousSibling.classList.add("active"),n.classList.remove("active")),s(e.closest(".ebpg-pagination"))),t}window.addEventListener("DOMContentLoaded",(function(e){var t,r=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){c=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(c)throw o}}}}(document.getElementsByClassName("eb-post-grid-category-filter"));try{var i=function(){var e=t.value,a=e.dataset.ebpgtaxonomy;e.querySelectorAll(".ebpg-category-filter-list li").forEach((function(e){"all"===e.dataset.ebpgcategory&&e.classList.add("active"),e.addEventListener("click",(function(e){var t,r=this,i=e.target.getAttribute("data-ebpgCategory");t="all"===i?"&query_type=filter":"&taxonomy=".concat(a,"&category=").concat(i,"&query_type=filter");var o=this.closest(".eb-post-grid-wrapper").dataset;n()({path:"eb-post-grid/v1/queries?query_data=".concat(o.querydata,"&attributes=").concat(o.attributes).concat(t)}).then((function(e){r.closest(".eb-post-grid-wrapper").querySelectorAll(".ebpg-grid-post").forEach((function(e){e.remove()})),r.closest(".eb-post-grid-category-filter").insertAdjacentHTML("afterend",e),r.closest(".eb-post-grid-category-filter").querySelectorAll(".ebpg-category-filter-list-item").forEach((function(e){e.classList.remove("active")})),r.classList.add("active")}))}))}))};for(r.s();!(t=r.n()).done;)i()}catch(e){r.e(e)}finally{r.f()}}))}();